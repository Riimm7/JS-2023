<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<a href="../index.html">Назад</a>
		<h1>Задача 2</h1>
		<p>
			Дано масив 30 випадкових цілих чисел. Підрахувати скільки було
			обмінів під час сортування змішуванням.
		</p>
		<style>
			body {
				font-family: Arial, sans-serif;
				background-color: #f2f2f2;
				padding: 20px;
				text-align: center;
			}
			h1 {
				color: #333;
			}
			p {
				color: #666;
			}
			/* ol{
				list-style: none;
			} */
		</style>
		<script>
			//створення масиву з 30 рандомними числами
			function generateRandomArray(length, minValue, maxValue) {
				let randomArray = [];
				for (let i = 0; i < length; i++) {
					let randomNum =
						Math.floor(Math.random() * (maxValue - minValue + 1)) +
						minValue;
					randomArray.push(randomNum);
				}
				return randomArray;
			}

			let randomArray = generateRandomArray(30, 1, 100);
			console.log(randomArray);

			//функція обміну
			const swap = (arr, i, j) => {
				const akum = arr[i];
				arr[i] = arr[j];
				arr[j] = akum;
			};

			//сортування змішуванням
			function shakerSort(array) {
				let leftIndex = 0;
				let rightIndex = array.length - 1;
				let changeCount = 0;

				while (leftIndex < rightIndex) {
					for (let idx = leftIndex; idx < rightIndex; idx++) {
						if (array[idx] > array[idx + 1]) {
							swap(array, idx, idx + 1);
							changeCount++;
						}
					}
					rightIndex--;

					for (let idx = rightIndex; idx > leftIndex; idx--) {
						if (array[idx] < array[idx - 1]) {
							swap(array, idx, idx - 1);
							changeCount++;
						}
					}
					leftIndex++;
				}

				console.log(changeCount);
				return array;
			}

			console.log(shakerSort(randomArray));
		</script>
	</body>
</html>
